"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[988],{547:function(e,t,n){var r=n(4942),a=n(6015),o=n(803),i=n(286),s=n(4565),l=n(7205),c=n(277),d=n(3540),h=n(5536),x=n(1745),u=n(1478),p=n(1744),m=n(7438),g=n(184);(0,c.ZP)(a.Z)((function(e){var t=e.theme;return(0,r.Z)({filter:"dark"===t.palette.mode&&"invert(0.848) hue-rotate(180deg)",display:"flex",justifyContent:"center",marginTop:t.spacing(2),height:"90vh",maxHeight:"980px"},t.breakpoints.down("md"),{marginLeft:t.spacing(-2),marginRight:t.spacing(-2)})}));t.Z=function(){return(0,g.jsxs)(o.Z,{children:[(0,g.jsx)(x.Z,{text:(0,p.F)(u.W5.id)}),(0,g.jsx)(a.Z,{maxWidth:"md",margin:"auto",children:(0,g.jsxs)(i.Z,{elevation:2,sx:{p:3},children:[(0,g.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:(0,d.ZP)(u.W5.k,{replace:p.T})}),(0,g.jsx)(o.Z,{sx:{mt:3,textAlign:"center"},children:(0,g.jsxs)(l.Z,{href:"".concat("https://docs.google.com/forms/d/e/1FAIpQLScnPA_ohsOvyZoO9QfjNk7shfXEyUGxOfxrpGzXq0VOSxjwbA/","/viewform"),onClick:function(){m.y(m.z.openContactFormInExternalTab)},target:"_blank",rel:"noreferrer",variant:"contained",size:"small",children:[(0,g.jsx)(h.Z,{sx:{fontSize:"1rem"}}),"\xa0 OPEN FORM"]})})]})})]})}},1988:function(e,t,n){n.r(t),n.d(t,{default:function(){return ue}});var r=n(9439),a=n(1413),o=n(5987),i=n(2791),s=n(6871),l=n(5973),c=n(229),d=n(3540),h=n(8737),x=n(277),u=n(2248),p=n(184),m=(0,x.ZP)("div")((function(e){var t=e.theme,n=e.marginBottom;return{marginBottom:t.spacing(n),"& table":{fontSize:"0.75rem"},"& .header-row, .frozen-column:first-of-type":{backgroundColor:t.palette.customBackground,pointerEvents:"none",textAlign:"left"},"& .table-row, & .odd-table-row":{color:t.palette.text.secondary,backgroundColor:t.palette.customAlternateBackground},"& .table-row .table-cell:first-of-type, & .odd-table-row .table-cell:first-of-type":{fontWeight:"bold",backgroundColor:t.palette.customAlternateBackground},"& .frozen-column":{borderRightWidth:"1px !important"}}}));var g=function(e){var t=e.chartData,n=e.sheetId,r=e.marginBottom,a={chartType:"Table",spreadSheetUrl:"https://docs.google.com/spreadsheets/d/".concat(n),spreadSheetQueryParameters:{headers:t.headers,query:t.query,gid:t.gid},options:{width:"100%",sortAscending:!0,frozenColumns:1,cssClassNames:{headerRow:"header-row",tableRow:"table-row",oddTableRow:"odd-table-row",selectedTableRow:"selected-table-row",hoverTableRow:"hover-table-row",headerCell:"header-cell",tableCell:"table-cell"}}};return(0,p.jsx)(m,{marginBottom:r,children:(0,p.jsx)(u.Z,{chartProps:a})})},Z=n(1745),j=n(472),f=n(5152),b=n(5209),v=n(6015),y=n(803),w=n(5953),C=n(4565),k=n(1872),P=n(547),T=n(417),S=n(3671),I=n(1267),z=n(6935),O=n(7438),q=(0,x.ZP)(T.Z)((function(e){var t=e.theme,n=e.expanded;return{color:t.palette.text.secondary,backgroundImage:"none",backgroundColor:n?t.palette.background.default:"transparent",boxShadow:n?t.shadows:"none",transition:t.transitions}})),_=(0,x.ZP)(S.Z)((function(e){var t=e.theme,n=e.expanded;return{marginTop:n?t.spacing(3):0,flexDirection:"row-reverse",paddingLeft:n?t.spacing(1):0,"& .MuiTypography-root":{color:t.palette.text.primary,textDecoration:"underline",transition:t.transitions,"&:hover":{color:t.palette.primary.main}}}})),D=function(e){var t,n=e.title,a=e.content,o=(0,i.useState)(void 0),s=(0,r.Z)(o,2),l=s[0],c=s[1];return(0,p.jsx)(v.Z,{children:(0,p.jsxs)(q,{expanded:"panel1"===l,onChange:(t="panel1",function(e,n){c(n?t:void 0),O.y(n?O.z.expandSampleData:O.z.collapseSampleData)}),children:[(0,p.jsx)(_,{expanded:l,expandIcon:(0,p.jsx)(z.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,p.jsx)(f.Z,{title:l?"Click to collapse":"Click to expand",children:(0,p.jsx)(C.Z,{component:"a",variant:"body1",children:n})})}),(0,p.jsx)(I.Z,{children:a})]})})},Q=n(604),A=n(173),M=n(1680),B=n(5590),L=n(4162),R=n(4407),E=n(9827),F=n(807),N=n(4390),W=n(9773),G=n(4142),U=n(1162),H=n(8388),V=(0,x.ZP)(M.Z)((function(e){return{"& th, td":{fontSize:"0.5em",color:e.theme.palette.text.primary},"& th":{fontWeight:500}}}));function X(e){var t=(0,i.useState)(null),n=(0,r.Z)(t,2),o=n[0],s=n[1],l=function(e){s(e.currentTarget),O.y(O.z.airQualityIndexLegendQuickGlance)},c=function(){s(null)},d=Boolean(o),h=(0,G.Z)(),x=[{name:"Good",color:h.palette.chart.optionsColors.aqi[0],aqi:"0 - 50",rawPM2_5:"0 - 12"},{name:"Moderate",color:h.palette.chart.optionsColors.aqi[1],aqi:"51 - 100",rawPM2_5:"12.1 - 35.4"},{name:"Unhealthy for Sensitive Groups",color:h.palette.chart.optionsColors.aqi[2],aqi:"101 - 150",rawPM2_5:"35.5 - 55.4"},{name:"Unhealthy",color:h.palette.chart.optionsColors.aqi[3],aqi:"151 - 200",rawPM2_5:"55.5 - 150.4"},{name:"Very Unhealthy",color:h.palette.chart.optionsColors.aqi[4],aqi:"201 - 300",rawPM2_5:"150.5 - 250.4"},{name:"Hazardous",color:h.palette.chart.optionsColors.aqi[5],aqi:"300 - 500",rawPM2_5:"250.5 - 550.5"}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(H.T,(0,a.Z)((0,a.Z)({},e),{},{distanceFromBottomOfWindow:"5.5rem",triggerThreshold:1.5,children:(0,p.jsx)(B.Z,{sx:{mt:1},"aria-owns":d?O.z.airQualityIndexLegendQuickGlance:void 0,"aria-haspopup":"true",onMouseEnter:l,onMouseLeave:c,onClick:function(e){return A.tq&&(d?c():l(e))},"aria-label":O.z.airQualityIndexLegendQuickGlance,color:"primary",children:(0,p.jsxs)(L.Z,{direction:"column",alignItems:"center",children:[(0,p.jsx)(U.Z,{fontSize:"1rem"}),(0,p.jsx)(C.Z,{variant:"body2",fontWeight:"500",children:"AQI"})]})})})),(0,p.jsxs)(R.ZP,{id:O.z.airQualityIndexLegendQuickGlance,sx:{pointerEvents:"none",mt:-1},open:d,anchorEl:o,anchorOrigin:{vertical:"100",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},onClose:c,disableRestoreFocus:!0,children:[(0,p.jsx)(C.Z,{sx:{mx:2,mt:1},color:"text.disabled",variant:"body1",fontWeight:500,children:"AQI at quick glance"}),(0,p.jsxs)(V,{size:"small",children:[(0,p.jsx)(E.Z,{children:(0,p.jsxs)(F.Z,{children:[(0,p.jsx)(N.Z,{children:(0,p.jsxs)(L.Z,{direction:"row",alignItems:"center",children:[(0,p.jsx)(v.Z,{sx:{width:"2em",height:"1em",marginRight:"4px"}}),"Category"]})}),(0,p.jsx)(N.Z,{align:"right",children:"US AQI"}),(0,p.jsx)(N.Z,{align:"right",children:"Raw PM2.5 Concentration"})]})}),(0,p.jsx)(W.Z,{children:x.reverse().map((function(e){return(0,p.jsxs)(F.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,p.jsx)(N.Z,{component:"th",scope:"row",children:(0,p.jsxs)(L.Z,{direction:"row",alignItems:"center",children:[(0,p.jsx)(v.Z,{sx:{width:"2em",height:"1em",marginRight:"4px",backgroundColor:e.color}}),e.name]})}),(0,p.jsx)(N.Z,{align:"right",children:e.aqi}),(0,p.jsxs)(N.Z,{align:"right",children:[e.rawPM2_5,"(\xb5g/m3)"]})]},e.name)}))})]})]})]})}var J=n(5461),K=n(1478),Y=n(5273),$=n(4281),ee=n(4058),te=n(4853),ne=n(9161),re=n(1744),ae=n(7205),oe=n(1164);function ie(e){var t=e.project,n=null==t.sheetId;return(0,p.jsxs)(ae.Z,{onClick:function(){O.y(O.z.getDataset)},href:n?"":"https://docs.google.com/spreadsheets/d/".concat(t.sheetId),target:"_blank",rel:"noreferrer",disabled:n,variant:"contained",children:[(0,p.jsx)(oe.Z,{}),"\xa0",n?"COMING SOON":"FULL DATASET"]})}var se=n(1131),le=n(6344),ce=n(445),de=n(6175),he=["tooltipTitle"],xe=function(e){var t=e.tooltipTitle,n=(0,o.Z)(e,he);return(0,p.jsx)(f.Z,{title:t,children:(0,p.jsx)(b.Z,(0,a.Z)({size:"small"},n))})},ue=function(e){var t=e.themePreference,n=(0,i.useContext)(l.F),o=(0,r.Z)(n,4),x=(o[0],o[1]),u=o[2],m=o[3],f=(0,s.UO)().id,b=(0,i.useState)({}),T=(0,r.Z)(b,2),S=T[0],I=T[1],z=(0,i.useState)(!1),q=(0,r.Z)(z,2),_=q[0],A=q[1],M=(0,i.useContext)(c.q),B=(0,r.Z)(M,2),L=B[0],R=B[1],E=(0,i.useContext)(ce.c),F=(0,r.Z)(E,1)[0],N=F[S.id],W=(0,i.useContext)(de.M),G=(0,r.Z)(W,1)[0][S.id];return(0,i.useEffect)((function(){S.title&&(document.title="".concat(S.title," | CITIES Dashboard"))})),(0,i.useEffect)((function(){var e=[];J.map((function(t){if(t.id===f){I((0,a.Z)({},t));for(var n={},r=0;r<t.charts.length;r++)n[r]=0;R(n),A(!0),e=t.charts.map((function(e,t){return{chartTitle:e.title,chartID:"chart-".concat(t+1)}}))}})),x("project"),m(e)}),[f,x,m]),(0,p.jsx)(p.Fragment,{children:_&&(0,p.jsxs)(v.Z,{width:"100%",children:["air-quality"===S.id&&(0,p.jsx)(X,{}),(0,p.jsx)(le.Z,{children:(0,p.jsxs)(y.Z,{sx:{pt:4,pb:4},children:[(0,p.jsx)(Z.Z,{text:S.title}),(0,p.jsxs)(w.ZP,{container:!0,spacing:1,sx:{pb:3,mt:-3},children:[(0,p.jsx)(w.ZP,{item:!0,children:(0,p.jsx)(xe,{icon:(0,p.jsx)(Y.Z,{}),label:S.owner,tooltipTitle:"Dataset Owner"})}),(0,p.jsx)(w.ZP,{item:!0,children:(0,p.jsx)(xe,{icon:(0,p.jsx)($.Z,{}),label:S.contact,tooltipTitle:"Contact",component:"a",href:"mailto:".concat(S.contact),clickable:!0})}),(0,p.jsx)(w.ZP,{item:!0,children:(0,p.jsx)(xe,{icon:(0,p.jsx)(te.Z,{}),label:"".concat(S.charts.length," Chart").concat(S.charts.length>1&&"s"),tooltipTitle:"Number of Charts",onClick:function(){(0,se.Qj)(K.O3.id),O.y(O.z.internalNavigation,{destination_id:K.O3.id,destination_label:K.project.toString(),origin_id:"chip"})}})}),G&&(0,p.jsx)(w.ZP,{item:!0,children:(0,p.jsx)(xe,{icon:(0,p.jsx)(ee.Z,{}),label:"Last update: ".concat(G),tooltipTitle:"Last Update"})}),null!=N&&(0,p.jsx)(w.ZP,{item:!0,children:(0,p.jsx)(xe,{icon:(0,p.jsx)(ne.Z,{}),label:"".concat(N," Comment").concat(F[S.id]>1?"s":""),tooltipTitle:"Number of Comments",onClick:function(){(0,se.Qj)(K.Sf.id),O.y(O.z.internalNavigation,{destination_id:K.Sf.id,destination_label:K.Sf.toString(),origin_id:"chip"})}})})]}),(0,p.jsx)(C.Z,{variant:"body1",color:"text.secondary",sx:{textAlign:"justify",pb:3,mb:0},gutterBottom:!0,children:(0,d.ZP)(S.description,{replace:re.T})}),(0,p.jsx)(ie,{project:S}),(0,p.jsx)(D,{title:"Sample Data",content:(0,p.jsx)(p.Fragment,{children:S.rawDataTables.map((function(e,t){return(0,p.jsx)(g,{chartData:e,sheetId:S.sheetId,marginBottom:t<S.rawDataTables.length-1?3:1},t)}))})})]})}),(0,p.jsx)(v.Z,{id:K.O3.id,children:S.charts.map((function(e,n){return(0,p.jsx)(le.Z,{id:u[n].chartID,backgroundColor:n%2==0?"customAlternateBackground":"",children:(0,p.jsxs)(y.Z,{sx:{pt:4,pb:4},height:"auto",className:t===Q.Z.dark?"dark":"",children:[(0,p.jsxs)(C.Z,{variant:"h6",color:"text.primary",children:[n+1,". ",e.title]}),(0,p.jsx)(h.Z,{chartData:(0,a.Z)({chartIndex:n,sheetId:S.sheetId},e)}),(0,p.jsxs)(v.Z,{sx:{m:3},children:[(0,p.jsxs)(C.Z,{variant:"body1",color:"text.secondary",sx:{mb:2},children:[e.subtitle&&(0,d.ZP)(e.subtitle,{replace:re.T}),Object.keys(L)[n]==n&&e.subcharts&&e.subcharts[Object.values(L)[n]].subchartSubtitle&&(0,d.ZP)(e.subcharts[Object.values(L)[n]].subchartSubtitle,{replace:re.T})]}),(0,p.jsxs)(C.Z,{variant:"caption",color:"text.secondary",children:[e.reference&&(0,d.ZP)(e.reference,{replace:re.T}),Object.keys(L)[n]==n&&e.subcharts&&e.subcharts[Object.values(L)[n]].reference&&(0,d.ZP)(e.subcharts[Object.values(L)[n]].reference,{replace:re.T})]})]})]})},n)}))}),(0,p.jsx)(k.Z,{}),(0,p.jsx)(le.Z,{id:K.Sf.id,sx:{pt:3,pb:4},children:(0,p.jsx)(j.Z,{pageID:S.id})}),(0,p.jsx)(k.Z,{}),(0,p.jsx)(le.Z,{id:K.W5.id,sx:{pt:3,pb:4},children:(0,p.jsx)(P.Z,{})})]})})}}}]);
//# sourceMappingURL=988.f2ac3e75.chunk.js.map
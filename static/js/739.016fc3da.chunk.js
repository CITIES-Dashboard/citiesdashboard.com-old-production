"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[739,692],{692:function(e,t,n){n.r(t),n.d(t,{StyledTable:function(){return p}});var i=n(4942),r=n(277),s=n(1680),a=n(6015),o=n(9827),l=n(807),c=n(4390),d=n(9773),u=n(4142),h=n(2752),x=n(184),p=(0,r.ZP)(s.Z)((function(e){var t=e.theme,n=e.isTiny;return{minWidth:n||700,"& th, td":(0,i.Z)({fontSize:n?"0.625rem":"0.6875rem",color:t.palette.text.secondary},t.breakpoints.down("sm"),{fontSize:n?"0.5rem":"0.6875rem"}),"& th":{fontWeight:500,color:t.palette.text.primary,lineHeight:"1rem"}}}));t.default=function(e){var t=e.isTiny,n=e.hideAQIDescription,i=(0,u.Z)(),r=[{name:"Good",color:i.palette.chart.optionsColors.aqi[0],aqi:"0 - 50",rawPM2_5:"0.0 - 12.0",description:"Air quality is satisfactory, and air pollution poses little or no risk",suggestion:"Enjoy the clean air"},{name:"Moderate",color:i.palette.chart.optionsColors.aqi[1],aqi:"51 - 100",rawPM2_5:"12.1 - 35.4",description:"Air quality is acceptable. However, there may be a risk for some people, particularly those who are unusually sensitive to air pollution",suggestion:"Individuals with respiratory issues might need to reduce prolonged outdoor exertion"},{name:"Unhealthy for Sensitive Groups",color:i.palette.chart.optionsColors.aqi[2],aqi:"101 - 150",rawPM2_5:"35.5 - 55.4",description:"Members of sensitive groups may experience health effects. The general public is less likely to be affected",suggestion:"Children and individuals with respiratory issues should limit outdoor exertion"},{name:"Unhealthy",color:i.palette.chart.optionsColors.aqi[3],aqi:"151 - 200",rawPM2_5:"55.5 - 150.4",description:"Some members of the general public may experience health effects; members of sensitive groups may experience more serious health effects",suggestion:""},{name:"Very Unhealthy",color:i.palette.chart.optionsColors.aqi[4],aqi:"201 - 300",rawPM2_5:"150.5 - 250.4",description:"Health alert: The risk of health effects is increased for everyone",suggestion:""},{name:"Hazardous",color:i.palette.chart.optionsColors.aqi[5],aqi:"300 - 500",rawPM2_5:"250.5 - 550.5",description:"Health warning of emergency conditions: everyone is more likely to be affected",suggestion:""}];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(a.Z,{overflow:"auto",children:(0,x.jsxs)(p,{size:"small",isTiny:t,children:[(0,x.jsx)(o.Z,{children:(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(c.Z,{sx:{pr:0},children:(0,x.jsx)(a.Z,{sx:{width:"1em",height:"1em"}})}),(0,x.jsx)(c.Z,{sx:{pl:1},children:"Category"}),(0,x.jsx)(c.Z,{align:"right",children:"US AQI"}),(0,x.jsxs)(c.Z,{align:"right",children:["PM2.5 Concentration (\xb5g/m",(0,x.jsx)("sup",{children:"3"}),")"]}),!n&&(0,x.jsx)(c.Z,{align:"left",children:"Description"}),!n&&(0,x.jsx)(c.Z,{align:"left",children:"CITIESair' Suggested Actions"})]})}),(0,x.jsx)(d.Z,{children:r.map((function(e){return(0,x.jsxs)(l.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,x.jsx)(c.Z,{sx:{pr:0},children:(0,x.jsx)(a.Z,{sx:{width:"1em",height:"1em",backgroundColor:e.color}})}),(0,x.jsx)(c.Z,{sx:{pl:1},children:e.name}),(0,x.jsx)(c.Z,{align:"right",children:e.aqi}),(0,x.jsx)(c.Z,{align:"right",children:e.rawPM2_5}),!n&&(0,x.jsx)(c.Z,{align:"left",children:e.description}),!n&&(0,x.jsx)(c.Z,{align:"left",children:e.suggestion})]},e.name)}))})]})}),!n&&(0,x.jsx)(h.Z,{chartHeight:"4rem",chartData:{sheetId:"157f6vu47RBEvnBnW24jGI7cz-ov1aSBUFPdkb5sDKDc",gid:1958405288,query:'SELECT * WHERE A = "US AQI"',headers:1,chartType:"BarChart",columns:[0,1,3,5,7,9,11],options:{legend:{position:"none"},enableInteractivity:!1,hAxis:{ticks:[0,50,100,150,200,300,500]},chartArea:{width:{portrait:"98%",landscape:"50%"},height:{portrait:"20%",landscape:"30%"}},isStacked:!0,colors:"aqi",bar:{groupWidth:"100%"}}}})]})}},547:function(e,t,n){var i=n(4942),r=n(6015),s=n(803),a=n(286),o=n(4565),l=n(7205),c=n(277),d=n(3540),u=n(5536),h=n(1745),x=n(1478),p=n(2089),m=n(7438),f=n(184);(0,c.ZP)(r.Z)((function(e){var t=e.theme;return(0,i.Z)({filter:"dark"===t.palette.mode&&"invert(0.848) hue-rotate(180deg)",display:"flex",justifyContent:"center",marginTop:t.spacing(2),height:"90vh",maxHeight:"980px"},t.breakpoints.down("sm"),{marginLeft:t.spacing(-2),marginRight:t.spacing(-2)})}));t.Z=function(){return(0,f.jsxs)(s.Z,{children:[(0,f.jsx)(h.Z,{text:(0,p.F)(x.W5.id)}),(0,f.jsx)(r.Z,{maxWidth:"md",margin:"auto",children:(0,f.jsxs)(a.Z,{elevation:2,sx:{p:3},children:[(0,f.jsx)(o.Z,{variant:"body2",color:"text.secondary",children:(0,d.ZP)(x.W5.k,{replace:p.T})}),(0,f.jsx)(s.Z,{sx:{mt:3,textAlign:"center"},children:(0,f.jsxs)(l.Z,{href:"".concat("https://docs.google.com/forms/d/e/1FAIpQLScnPA_ohsOvyZoO9QfjNk7shfXEyUGxOfxrpGzXq0VOSxjwbA/","/viewform"),onClick:function(){m.y(m.z.openContactFormInExternalTab)},target:"_blank",rel:"noreferrer",variant:"contained",size:"small",children:[(0,f.jsx)(u.Z,{sx:{fontSize:"1rem"}}),"\xa0 OPEN FORM"]})})]})})]})}},4739:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ye}});var i=n(885),r=n(1413),s=n(5987),a=n(2791),o=n(6871),l=n(5973),c=n(229),d=n(3540),u=n(2752),h=n(1745),x=n(472),p=n(5814),m=n(5209),f=n(6015),v=n(803),j=n(5953),Z=n(4565),g=n(1872),b=n(4142),y=n(547),w=n(604),k=n(173),D=n(5590),C=n(4162),S=n(3245),P=n(7962),I=n(286),T=n(1162),z=n(8388),M=n(7438),O=n(692),q=n(184);function A(e){var t=(0,a.useState)(null),n=(0,i.Z)(t,2),s=n[0],o=n[1],l=function(e){o(e.currentTarget),M.y(M.z.airQualityIndexLegendQuickGlance)},c=function(){o(null)},d=Boolean(s);(0,b.Z)();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(z.T,(0,r.Z)((0,r.Z)({},e),{},{distanceFromBottomOfWindow:"5.5rem",children:(0,q.jsx)(D.Z,{sx:{mt:1},"aria-owns":d?M.z.airQualityIndexLegendQuickGlance:void 0,"aria-haspopup":"true",onMouseEnter:l,onMouseLeave:c,onClick:function(e){return k.tq&&(d?c():l(e))},"aria-label":M.z.airQualityIndexLegendQuickGlance,color:"primary",children:(0,q.jsxs)(C.Z,{direction:"column",alignItems:"center",children:[(0,q.jsx)(T.Z,{fontSize:"1rem"}),(0,q.jsx)(Z.Z,{variant:"body2",fontWeight:"500",children:"AQI"})]})})})),(0,q.jsx)(S.Z,{id:M.z.airQualityIndexLegendQuickGlance,sx:{pointerEvents:"none",mt:-1},open:d,anchorEl:s,placement:"top-end",onClose:c,keepMounted:!0,disableRestoreFocus:!0,transition:!0,children:function(e){var t=e.TransitionProps;return(0,q.jsx)(P.Z,(0,r.Z)((0,r.Z)({},t),{},{timeout:350,children:(0,q.jsxs)(I.Z,{elevation:8,sx:{py:.5,mb:1},children:[(0,q.jsx)(Z.Z,{sx:{mx:2,mt:1},color:"text.disabled",variant:"body1",fontWeight:500,children:"AQI at quick glance"}),(0,q.jsx)(O.default,{isTiny:!0,hideAQIDescription:!0})]})}))}})]})}var L=n(5461),_=n(1478),E=n(501),Y=n(4281),Q=n(4058),F=n(4853),B=n(9161),R=n(2089),U=n(4942),W=n(2797),N=n(7205),H=n(5399),G=n(7248),V=n(5450),X=n(6283),K=n(1680),J=n(9827),$=n(807),ee=n(4390),te=n(9773),ne=n(1898),ie=n(8164),re=n(324),se=n(3978),ae=n(230),oe=n(3746),le=n(3518),ce=n(1566),de=n(1009),ue=n(5108),he=n(8914),xe=n(7892),pe=n.n(xe),me=n(277),fe=n(3634),ve=n(1652),je=n(4639),Ze=n(6767),ge=n(822),be=n(8928),ye=n(3767),we=["versionDates","day"],ke=(0,me.ZP)(je.H)((function(e){return{"&:after, :hover::after":{content:'"."',fontSize:"1.5rem",bottom:"-0.5rem",position:"absolute",color:e.theme.palette.primary.main,opacity:.5},"&:hover::after":{opacity:1}}}));function De(e){var t=e.versionDates,n=void 0===t?[]:t,i=e.day,a=(0,s.Z)(e,we);return n.indexOf(pe()(i).format("YYYY-MM-DD"))>=0?(0,q.jsx)(ke,(0,r.Z)((0,r.Z)({},a),{},{day:i})):(0,q.jsx)(je.H,(0,r.Z)((0,r.Z)({},a),{},{day:i}))}function Ce(e){var t=e.onChange,n=e.versions.filter((function(e){return 10===e.version.length})).map((function(e){return e.version}));return(0,q.jsx)(ye.Z,{onClickAway:function(){return t("close")},children:(0,q.jsx)(be.Z,{sx:{position:"absolute",right:0,zIndex:999},raised:!0,children:(0,q.jsx)(ve._,{dateAdapter:fe.y,children:(0,q.jsx)(Ze.W,{loading:!n,format:"YYYY-MM-DD",renderLoading:function(){return(0,q.jsx)(ge.e,{})},slots:{day:De},onChange:function(e,n){return"finish"===n?t(pe()(e).format("YYYY-MM-DD")):null},slotProps:{day:{versionDates:n}},shouldDisableDate:function(e){return t=e,!(n.indexOf(pe()(t).format("YYYY-MM-DD"))>=0);var t},disableHighlightToday:!0,minDate:pe()(n.slice(-1)[0]),maxDate:pe()(n[0])})})})})}function Se(e){var t=e.project,n=(0,a.useContext)(ae.N),r=(0,a.useState)(),s=(0,i.Z)(r,2),o=s[0],l=s[1];(0,a.useEffect)((function(){t&&n&&l(n[null===t||void 0===t?void 0:t.id])}),[t,n]);var c=(0,b.Z)(),d=(0,W.Z)(c.breakpoints.down("sm")),u=(0,a.useState)(!1),h=(0,i.Z)(u,2),x=h[0],p=h[1],f=function(){return p(!1)};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(N.Z,{onClick:function(){p(!0),M.y(M.z.rawDatasetButtonClicked,{project_id:t.id})},variant:"contained",children:[(0,q.jsx)(ce.Z,{sx:{fontSize:"1rem"}}),"\xa0Raw Dataset"]}),(0,q.jsxs)(H.Z,{open:x,onClose:f,maxWidth:"lg",fullWidth:!0,fullScreen:d,keepMounted:!0,children:[d&&(0,q.jsx)(G.Z,{justifyContent:"flex-start",children:(0,q.jsxs)(N.Z,{autoFocus:!0,onClick:f,children:[(0,q.jsx)(de.Z,{sx:{fontSize:"1rem"}}),"Back"]})}),(0,q.jsxs)(V.Z,{sx:{px:d?2:3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start",height:"100%"},children:[(0,q.jsx)(m.Z,{label:t.title,size:"small",sx:{mb:1}}),(0,q.jsx)(Z.Z,{variant:"h6",children:"Preview and download raw dataset(s)"}),(0,q.jsx)(Pe,{datasets:o,smallScreen:d,project:t}),o&&(0,q.jsxs)(Z.Z,{variant:"caption",sx:{mb:3,fontStyle:"italic"},children:["This dataset is provided by the CITIES Dashboard with the support of ",function(e){if(e&&0!==e.length){if(1===e.length)return e[0];if(2===e.length)return e.join(" and ");var t=e.pop(),n=e.join(", ");return"".concat(n,", and ").concat(t)}return"the relevant owners"}(t.owners),". Should you intend to utilize this dataset for your project, research, or publication, we kindly request that you notify us at ",(0,q.jsx)(X.Z,{href:"mailto:nyuad.cities@nyu.edu",children:"nyuad.cities@nyu.edu"})," to discuss citation requirements."]})]})]})]})}var Pe=function(e){var t=e.datasets,n=e.smallScreen,s=e.project,o=(0,a.useState)(),l=(0,i.Z)(o,2),c=l[0],d=l[1],u=(0,a.useState)(),h=(0,i.Z)(u,2),x=h[0],p=h[1];return(0,a.useEffect)((function(){var e,n,i,s;(null===t||void 0===t?void 0:t.length)>0&&(d(null===(e=t[0])||void 0===e?void 0:e.versions[0]),p(null===(n=t[0])||void 0===n?void 0:n.id),(0,he.m)(null===(i=t[0])||void 0===i||null===(s=i.versions[0])||void 0===s?void 0:s.rawLink,"csv").then((function(e){var n;d((0,r.Z)((0,r.Z)({},null===(n=t[0])||void 0===n?void 0:n.versions[0]),{},{fetchedDataset:e}))})))}),[t]),(0,q.jsxs)(j.ZP,{container:!0,justifyContent:"center",alignItems:"start",spacing:3,children:[(0,q.jsx)(j.ZP,{item:!0,sm:12,md:6,children:(0,q.jsx)(Ie,{datasets:t,smallScreen:n,previewingDataset:c,setPreviewingDataset:d,previewingDatasetId:x,setPreviewingDatasetId:p})}),(0,q.jsx)(j.ZP,{item:!0,sm:12,md:6,maxWidth:n?"100%":"unset",children:(0,q.jsx)(ze,{previewingDataset:c,previewingDatasetId:x,project:s,smallScreen:n})}),(0,q.jsx)(j.ZP,{item:!0})]})},Ie=function(e){var t=e.datasets,n=e.smallScreen,i=e.previewingDataset,r=e.setPreviewingDataset,s=e.previewingDatasetId,a=e.setPreviewingDatasetId;return(0,q.jsxs)(K.Z,{size:"small",sx:{tableLayout:"fixed","& td, div, .MuiMenuItem-root":{fontSize:n?"0.625rem":"0.8rem"}},children:[(0,q.jsx)(J.Z,{children:(0,q.jsxs)($.Z,{children:[(0,q.jsx)(ee.Z,{sx:{pl:1},children:"Dataset"}),(0,q.jsx)(ee.Z,{sx:{width:n?"9.5rem":"11rem"},children:"Version"}),(0,q.jsx)(ee.Z,{sx:{width:n?"5rem":"6rem"},children:"Size"})]})}),(0,q.jsx)(te.Z,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,q.jsx)(Te,{smallScreen:n,dataset:e,previewingDataset:i,setPreviewingDataset:r,isPreviewing:e.id===s,setPreviewingDatasetId:a})}))})]})},Te=function(e){var t=e.dataset,n=e.setPreviewingDataset,s=e.isPreviewing,o=e.previewingDatasetId,l=e.setPreviewingDatasetId,c=(0,a.useState)({}),d=(0,i.Z)(c,2),u=d[0],h=d[1],x=(null===t||void 0===t?void 0:t.versions[0])||{},m=(0,a.useState)(!1),f=(0,i.Z)(m,2),v=f[0],j=f[1],Z=(0,a.useState)(x),g=(0,i.Z)(Z,2),y=g[0],w=g[1],k=null===t||void 0===t?void 0:t.versions.slice(0,3);k.find((function(e){return e==y}))||k.push((0,r.Z)((0,r.Z)({},y),{},{isOlderVersion:!0}));var D=(null===t||void 0===t?void 0:t.versions.length)>3,S=function(e){var i=e.target.value;if("Calendar"!==i){var r=null===t||void 0===t?void 0:t.versions.find((function(e){return e.version===i}));w(r),l(t.id),n(r),P(r)}else j(!0)},P=function(e){u[e.version]?n(u[e.version]):(0,he.m)(e.rawLink,"csv").then((function(t){var i=(0,r.Z)((0,r.Z)({},e),{},{fetchedDataset:t});n(i),h((0,r.Z)((0,r.Z)({},u),{},(0,U.Z)({},i.version,i)))}))},I=function(){o!==t.id&&(l(t.id),n(y),P(y))},T=(0,b.Z)();return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)($.Z,{children:[(0,q.jsx)(ee.Z,{sx:{pl:1,cursor:"pointer",background:s&&T.palette.background.NYUpurpleLight},onClick:I,children:null===y||void 0===y?void 0:y.name}),(0,q.jsxs)(ee.Z,{sx:{position:"relative",background:s&&T.palette.background.NYUpurpleLight},children:[v&&(0,q.jsx)(Ce,{onChange:function(e){j(!1),"close"!==e&&S({target:{value:e}})},versions:null===t||void 0===t?void 0:t.versions}),(0,q.jsx)(ne.Z,{size:"small",children:(0,q.jsxs)(ie.Z,{value:null===y||void 0===y?void 0:y.version,onClick:function(){t.versions.length<=1&&I()},onChange:S,variant:"standard",MenuProps:{disablePortal:!0},children:[k.map((function(e,t){return(0,q.jsx)(re.Z,{value:e.version,sx:[t===k.length-1&&{mb:-.75},e.isOlderVersion&&{marginTop:"1rem","&::before":{content:'""',borderTop:"2px dotted ".concat(T.palette.text.secondary),width:"1rem",height:"1rem",position:"absolute",top:0,left:"50%",transform:"translate(-50%, -50%)"}}],children:(0,q.jsxs)(C.Z,{direction:"row",alignItems:"center",children:[e.version,e===x&&(0,q.jsx)(p.Z,{title:"Latest version",enterDelay:0,leaveDelay:200,children:(0,q.jsx)(se.Z,{sx:{ml:.5,width:"1rem",height:"1rem",background:T.palette.success.main},children:(0,q.jsx)(Q.Z,{sx:{width:"0.8rem",height:"0.8rem"}})})})]})},e.version)})),D&&(0,q.jsx)(re.Z,{value:"Calendar",sx:{pt:1,mt:1,mb:-.75,borderTop:"0.5px solid"},children:(0,q.jsxs)(C.Z,{direction:"row",alignItems:"center",children:["Older Versions",(0,q.jsx)(ue.Z,{fontSize:"small",sx:{ml:.5}})]})},"Calendar")]})})]}),(0,q.jsx)(ee.Z,{sx:{background:s&&T.palette.background.NYUpurpleLight},children:function(e){if(e)return e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"}(null===y||void 0===y?void 0:y.sizeInBytes)})]},t.id)})},ze=function(e){var t=e.previewingDataset,n=e.previewingDatasetId,r=e.project,s=e.smallScreen,o="[".concat(r.id,"] ").concat(null===t||void 0===t?void 0:t.name,"-").concat(null===t||void 0===t?void 0:t.version,".csv"),l=(0,b.Z)(),c=(0,a.useState)(""),d=(0,i.Z)(c,2),u=d[0],h=d[1],x=(0,a.useState)(""),p=(0,i.Z)(x,2),v=p[0],j=p[1];return(0,a.useEffect)((function(){if(null!==t&&void 0!==t&&t.fetchedDataset){var e=null===t||void 0===t?void 0:t.fetchedDataset,n=e.split("\n"),i=n.length;if(i<=10)h(e),j(Array.from({length:i},(function(e,t){return t+1})).join("\n"));else{var r=n.slice(0,5),s=n.slice(i-5),a=i-10,o=["... [".concat(a," rows hidden] ...")];h(r.concat(o).concat(s).join("\n")),j(Array.from({length:11},(function(e,t){var n=t+1;return n<6?n:6==n?"":a+n-1})).join("\n"))}}}),[t]),(0,q.jsxs)(C.Z,{spacing:1,children:[(0,q.jsxs)(f.Z,{sx:{"& *":{fontFamily:"monospace !important"}},children:[(0,q.jsx)(m.Z,{icon:(0,q.jsx)(oe.Z,{}),label:"Previewing".concat(t&&": ".concat(t.name," (").concat(null===t||void 0===t?void 0:t.version,")")),size:"small",sx:{backgroundColor:l.palette.customBackground,borderRadius:0,borderTopLeftRadius:l.spacing(1),borderTopRightRadius:l.spacing(1),p:1,pb:0}}),(0,q.jsx)(f.Z,{component:"pre",sx:{overflowX:"auto",color:l.palette.text.secondary,backgroundColor:l.palette.customBackground,p:2,pt:1.5,borderRadius:l.spacing(1),borderTopLeftRadius:0,minHeight:"5rem",width:s?"100%":"unset",marginTop:0},children:(0,q.jsxs)(C.Z,{direction:"row",sx:{fontSize:s?"0.625rem !important":"0.8rem !important"},children:[(0,q.jsx)(f.Z,{sx:{mr:2,userSelect:"none"},children:v}),(0,q.jsx)(f.Z,{children:u})]})})]}),(0,q.jsx)(f.Z,{textAlign:"center",children:(0,q.jsxs)(N.Z,{variant:"contained",sx:{textTransform:"none",textAlign:"left",lineHeight:1.1,px:1.5,py:1},onClick:function(){!function(){if(null!==t&&void 0!==t&&t.fetchedDataset){var e=new Blob([null===t||void 0===t?void 0:t.fetchedDataset],{type:"application/octet-stream"}),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=o,document.body.appendChild(i),i.click(),URL.revokeObjectURL(n),document.body.removeChild(i)}}(),M.y(M.z.rawDatasetDownloaded,{project_id:r.id,dataset_id:n,dataset_name:t.name,dataset_version:t.version})},disabled:!t,children:[(0,q.jsx)(le.Z,{sx:{fontSize:"1.25rem",mr:.5}}),t?o:"No dataset available to download"]})})]})},Me=n(1131),Oe=n(6344),qe=n(445),Ae=n(6175),Le=n(5276),_e=["tooltipTitle"],Ee=function(e){var t=e.tooltipTitle,n=(0,s.Z)(e,_e);return(0,q.jsx)(p.Z,{title:t,enterDelay:0,leaveDelay:200,children:(0,q.jsx)(m.Z,(0,r.Z)({size:"small"},n))})},Ye=function(e){var t=e.themePreference,n=(0,a.useContext)(l.F),s=(0,i.Z)(n,4),p=(s[0],s[1]),m=s[2],k=s[3],D=(0,o.UO)().id,C=(0,a.useState)({}),S=(0,i.Z)(C,2),P=S[0],I=S[1],T=(0,a.useState)(!1),z=(0,i.Z)(T,2),O=z[0],U=z[1],W=(0,a.useContext)(c.q),N=(0,i.Z)(W,2),H=N[0],G=N[1],V=(0,a.useContext)(qe.c),X=(0,i.Z)(V,1)[0],K=X[P.id],J=(0,a.useContext)(Ae.M),$=(0,i.Z)(J,1)[0][P.id];(0,a.useEffect)((function(){P.title&&(document.title="".concat(P.title," | CITIES Dashboard"))})),(0,a.useEffect)((function(){var e=[];L.map((function(t){if(t.id===D){I((0,r.Z)({},t));for(var n={},i=0;i<t.charts.length;i++)n[i]=0;G(n),U(!0),e=t.charts.map((function(e,t){return{chartTitle:e.title,chartID:"chart-".concat(t+1)}}))}})),p("project"),k(e)}),[D,p,k]);var ee=(0,b.Z)();return(0,q.jsx)(q.Fragment,{children:O&&(0,q.jsxs)(f.Z,{width:"100%",children:["air-quality"===P.id&&(0,q.jsx)(A,{}),(0,q.jsx)(Oe.Z,{children:(0,q.jsxs)(v.Z,{sx:{pt:4,pb:4},children:[(0,q.jsx)(h.Z,{text:P.title}),(0,q.jsxs)(j.ZP,{container:!0,spacing:1,sx:{pb:3,mt:-3},children:[P.owners.map((function(e,t){return(0,q.jsx)(j.ZP,{item:!0,children:(0,q.jsx)(Ee,{icon:(0,q.jsx)(E.Z,{}),label:e,tooltipTitle:"Dataset Owner"},t)})})),(0,q.jsx)(j.ZP,{item:!0,children:(0,q.jsx)(Ee,{icon:(0,q.jsx)(Y.Z,{}),label:P.contact,tooltipTitle:"Contact",component:"a",href:"mailto:".concat(P.contact),clickable:!0})}),(0,q.jsx)(j.ZP,{item:!0,children:(0,q.jsx)(Ee,{icon:(0,q.jsx)(F.Z,{}),label:"".concat(P.charts.length," Chart").concat(P.charts.length>1&&"s"),tooltipTitle:"Number of Charts",onClick:function(){(0,Me.Qj)(_.O3.id),M.y(M.z.internalNavigation,{destination_id:_.O3.id,destination_label:_.project.toString(),origin_id:"chip"})}})}),$&&(0,q.jsx)(j.ZP,{item:!0,children:(0,q.jsx)(Ee,{icon:(0,q.jsx)(Q.Z,{}),label:"Last update: ".concat($),tooltipTitle:"Last Update"})}),null!=K&&(0,q.jsx)(j.ZP,{item:!0,children:(0,q.jsx)(Ee,{icon:(0,q.jsx)(B.Z,{}),label:"".concat(K," Comment").concat(X[P.id]>1?"s":""),tooltipTitle:"Number of Comments",onClick:function(){(0,Me.Qj)(_.Sf.id),M.y(M.z.internalNavigation,{destination_id:_.Sf.id,destination_label:_.Sf.toString(),origin_id:"chip"})}})})]}),(0,q.jsx)(Z.Z,{component:"div",variant:"body1",color:"text.secondary",sx:{textAlign:"justify",pb:3,mb:0,"& table *":{color:"".concat(ee.palette.text.secondary)}},gutterBottom:!0,children:(0,d.ZP)(P.description,{replace:R.T})}),(0,q.jsx)(Se,{project:P})]})}),(0,q.jsx)(f.Z,{id:_.O3.id,children:P.charts.map((function(e,n){return(0,q.jsx)(Oe.Z,{id:m[n].chartID,backgroundColor:n%2==0?"customAlternateBackground":"",children:(0,q.jsxs)(v.Z,{sx:{pt:4,pb:4},height:"auto",className:t===w.Z.dark?"dark":"",children:[(0,q.jsxs)(Z.Z,{variant:"h6",color:"text.primary",children:[n+1,". ",e.title]}),e.chartSubstituteComponentName?(0,q.jsx)(Le.default,{chartSubstituteComponentName:e.chartSubstituteComponentName}):(0,q.jsx)(u.Z,{chartData:(0,r.Z)({chartIndex:n,sheetId:P.sheetId},e)}),(0,q.jsxs)(f.Z,{sx:{my:3},children:[(0,q.jsxs)(Z.Z,{component:"div",variant:"body1",color:"text.secondary",children:[e.subtitle&&(0,d.ZP)(e.subtitle,{replace:R.T}),Object.keys(H)[n]==n&&e.subcharts&&e.subcharts[Object.values(H)[n]].subchartSubtitle&&(0,d.ZP)(e.subcharts[Object.values(H)[n]].subchartSubtitle,{replace:R.T})]}),(0,q.jsxs)(Z.Z,{variant:"caption",color:"text.secondary",children:[e.reference&&(0,d.ZP)(e.reference,{replace:R.T}),Object.keys(H)[n]==n&&e.subcharts&&e.subcharts[Object.values(H)[n]].reference&&(0,d.ZP)(e.subcharts[Object.values(H)[n]].reference,{replace:R.T})]})]})]})},n)}))}),(0,q.jsx)(g.Z,{}),(0,q.jsx)(Oe.Z,{id:_.Sf.id,sx:{pt:3,pb:4},children:(0,q.jsx)(x.Z,{pageID:P.id})}),(0,q.jsx)(g.Z,{}),(0,q.jsx)(Oe.Z,{id:_.W5.id,sx:{pt:3,pb:4},children:(0,q.jsx)(y.Z,{})})]})})}}}]);
//# sourceMappingURL=739.016fc3da.chunk.js.map